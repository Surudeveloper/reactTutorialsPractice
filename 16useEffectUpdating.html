<script src="./src/reactDev.js"></script>
<script src="./src/reactDOM.js"></script>
<script src="./src/babel.js"></script>

<div id="root"></div>
<style>

</style>
<script type="text/babel">
// use effect is a hook which is used to handle the lifecycle phases
// 1.Mounting 2.Updating 3.Unmounting
    const App = () => {
        const [name, setName]=React.useState('Sachin') 
        const [cnt, setCnt]=React.useState(0) 
        const fn =()=>{
            console.log('loaded fn');
        }
        // 1st time after loading DOM, and if called like this using 2nd arg as an array of the variable upon whom update you want it to execute  
        React.useEffect(()=>{
            fn()
        },[name])  //for name update it will execute, not for the cnt update.
        
        //if you dont want to execute it for the 1st time after load use some external conditions
        // React.useEffect(()=>{
            // if(cnt!=0){
            //     fn()
            // }
        // },[cnt])
        const handleClick=()=>{
            setName(name=='Sachin'?'Dhoni':'Sachin')
        }
        const handleCount=()=>{
            setCnt(cnt+1)
        }
        return <div>
            <h1>{name}</h1>
            <button onClick={handleClick}>Click</button>
            <h1>{cnt}</h1>
            <button onClick={handleCount}>Increment</button>
        </div>
    }

    const container = document.getElementById("root");
    const root = ReactDOM.createRoot(container)
    root.render(<App />)

</script>